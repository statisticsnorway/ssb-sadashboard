<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Quality Report for Seasonal Adjustment with RJDemetra. — sa_quality_report • sadashboard</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Quality Report for Seasonal Adjustment with RJDemetra. — sa_quality_report"><meta name="description" content="Wrapper function for creating a html-document with interactive quality report for seasonal adjustment with RJdemetra.
The quality report includes tables with selected quality indicators. User may also choose to include interactive plots
of seasonally adjusted time series."><meta property="og:description" content="Wrapper function for creating a html-document with interactive quality report for seasonal adjustment with RJdemetra.
The quality report includes tables with selected quality indicators. User may also choose to include interactive plots
of seasonally adjusted time series."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">sadashboard</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/statisticsnorway/ssb-sadashboard/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Quality Report for Seasonal Adjustment with RJDemetra.</h1>
      <small class="dont-index">Source: <a href="https://github.com/statisticsnorway/ssb-sadashboard/blob/main/R/sa_quality_report.R" class="external-link"><code>R/sa_quality_report.R</code></a></small>
      <div class="d-none name"><code>sa_quality_report.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Wrapper function for creating a html-document with interactive quality report for seasonal adjustment with RJdemetra.
The quality report includes tables with selected quality indicators. User may also choose to include interactive plots
of seasonally adjusted time series.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">sa_quality_report</span><span class="op">(</span></span>
<span>  <span class="va">models_in</span>,</span>
<span>  <span class="va">report_file</span>,</span>
<span>  title <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  author <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  group_series <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  plots_included <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  plot_start <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  linearized <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  cal_adjust <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  ma_filter <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  n_digits <span class="op">=</span> <span class="fl">2</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-models-in">models_in<a class="anchor" aria-label="anchor" href="#arg-models-in"></a></dt>
<dd><p>List of output objects from x13_pickmdl()-function. <br>
Must be named, names(models_in) cannot be empty.</p></dd>


<dt id="arg-report-file">report_file<a class="anchor" aria-label="anchor" href="#arg-report-file"></a></dt>
<dd><p>Name of output file, including path.</p></dd>


<dt id="arg-title">title<a class="anchor" aria-label="anchor" href="#arg-title"></a></dt>
<dd><p>Title of the report. Default is NULL.</p></dd>


<dt id="arg-author">author<a class="anchor" aria-label="anchor" href="#arg-author"></a></dt>
<dd><p>Author of the report. Default is NULL.</p></dd>


<dt id="arg-group-series">group_series<a class="anchor" aria-label="anchor" href="#arg-group-series"></a></dt>
<dd><p>List of vectors of model names. For structuring of tables and plots. <br>
If NULL, all models are included in a single table. See examples. Default is NULL. <br>
Preferably, groups should be named. If names(group_series) = NULL, some headers in output are empty.</p></dd>


<dt id="arg-plots-included">plots_included<a class="anchor" aria-label="anchor" href="#arg-plots-included"></a></dt>
<dd><p>If TRUE, interactive plots are included in the report. Default is TRUE</p></dd>


<dt id="arg-plot-start">plot_start<a class="anchor" aria-label="anchor" href="#arg-plot-start"></a></dt>
<dd><p>Start date of time axis in plot. If NULL, the whole time series is plotted. Default is NULL.</p></dd>


<dt id="arg-linearized">linearized<a class="anchor" aria-label="anchor" href="#arg-linearized"></a></dt>
<dd><p>Linearized series to be shown in plots? Default is FALSE.
"decomposition.b1" must be userdefined in x13_pickmdl() for cal_adjust to be calculated.</p></dd>


<dt id="arg-cal-adjust">cal_adjust<a class="anchor" aria-label="anchor" href="#arg-cal-adjust"></a></dt>
<dd><p>Calender adjusted times series to be shown in plots? Default is FALSE.
"decomposition.a8" and "decomposition.b1" must be userdefined in x13_pickmdl() for cal_adjust to be calculated.</p></dd>


<dt id="arg-ma-filter">ma_filter<a class="anchor" aria-label="anchor" href="#arg-ma-filter"></a></dt>
<dd><p>1x3 asymmetric MA-filter to be shown in plots? Default is FALSE.</p></dd>


<dt id="arg-n-digits">n_digits<a class="anchor" aria-label="anchor" href="#arg-n-digits"></a></dt>
<dd><p>number of printed digits. Default is 2.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A html-document with quality report created at selected path.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">time_series</span> <span class="op">&lt;-</span> <span class="fu">sadashboard</span><span class="fu">::</span><span class="va"><a href="vhi.html">vhi</a></span></span></span>
<span class="r-in"><span><span class="va">spec_now</span> <span class="op">&lt;-</span> <span class="fu">RJDemetra</span><span class="fu">::</span><span class="fu"><a href="https://rjdverse.github.io/rjdemetra/reference/x13_spec.html" class="external-link">x13_spec</a></span><span class="op">(</span><span class="st">"RSA5c"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">my_models</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Friedman test and independence of residuals must be user defined as output from x13_pickmdl().</span></span></span>
<span class="r-in"><span><span class="co"># Warning if not user defined as part of output.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">time_series</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">time_series_now</span> <span class="op">&lt;-</span> <span class="va">time_series</span><span class="op">[</span>,<span class="va">i</span><span class="op">]</span></span></span>
<span class="r-in"><span>  <span class="va">my_models</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">pickmdl</span><span class="fu">::</span><span class="fu"><a href="https://statisticsnorway.github.io/ssb-pickmdl/reference/x13_pickmdl.html" class="external-link">x13_pickmdl</a></span><span class="op">(</span><span class="va">time_series_now</span>,<span class="va">spec_now</span>,corona<span class="op">=</span><span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                       pickmdl_method<span class="op">=</span><span class="st">"first_tryautomdl"</span>,</span></span>
<span class="r-in"><span>                       userdefined <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"decomposition.a8"</span>,<span class="st">"decomposition.b1"</span>,</span></span>
<span class="r-in"><span>                                <span class="st">"diagnostics.seas-sa-friedman"</span>,<span class="st">"residuals.independence.value"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> automdl since no pickmdl model ok</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>No model is ok according to criteria</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>No model is ok according to criteria</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>No model is ok according to criteria</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">my_models</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">time_series</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Grouping of models</span></span></span>
<span class="r-in"><span><span class="va">group_key</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"47."</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">7</span><span class="op">)</span>,<span class="st">"47.9"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">groups_now</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">group_key</span>,</span></span>
<span class="r-in"><span>                 <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">time_series</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="va">x</span>,<span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">time_series</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">]</span><span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">groups_now</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">group_key</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">path_now</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">sa_quality_report</span><span class="op">(</span>models_in<span class="op">=</span> <span class="va">my_models</span>,report_file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">path_now</span>,<span class="st">"/my_report.html"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                     group_series <span class="op">=</span> <span class="va">groups_now</span>,</span></span>
<span class="r-in"><span>                     title <span class="op">=</span> <span class="st">"Eksempelrapport"</span>, author <span class="op">=</span> <span class="st">"SSB"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> processing file: Show_SA_function.Rmd</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1/9                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2/9 [Loading]       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3/9                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4/9 [mainshow]      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5/9                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6/9 [figurer_groups]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7/9                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8/9 [arimashow]     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9/9                 </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> output file: Show_SA_function.knit.md</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> /opt/hostedtoolcache/pandoc/3.1.11/x64/pandoc +RTS -K512m -RTS Show_SA_function.knit.md --to html4 --from markdown+autolink_bare_uris+tex_math_single_backslash --output /home/runner/work/ssb-sadashboard/ssb-sadashboard/docs/reference/my_report.html --lua-filter /home/runner/work/_temp/Library/rmarkdown/rmarkdown/lua/pagebreak.lua --lua-filter /home/runner/work/_temp/Library/rmarkdown/rmarkdown/lua/latex-div.lua --embed-resources --standalone --variable bs3=TRUE --section-divs --template /home/runner/work/_temp/Library/rmarkdown/rmd/h/default.html --no-highlight --variable highlightjs=1 --variable theme=bootstrap --mathjax --variable 'mathjax-url=https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML' --include-in-header /tmp/RtmpGVUrJ6/rmarkdown-str282643e4c42f.html </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Output created: my_report.html</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jens Kristoffer Haug, Susie Jentoft, Ane Seierstad.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

